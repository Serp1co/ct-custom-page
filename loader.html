<style>
  body {
    background: black;
    color: white;
  }

  .main_body {
    background: black;
  }

  .titolo_box_scheda,
  .title {
    background: black !important;
    border: none !important;
    border-top: 1px solid white !important;
    border-bottom: 1px solid white !important;
    border-radius: 0px 0px 0px 0px !important;
  }

  .body_box {
    border: none !important;
  }

  .ritratto {
    border: 1px solid white !important;
  }

  .profilo,
  .primo_box,
  .secondo_box,
  .terzo_box {
    border: none !important;
  }

  ::-webkit-scrollbar {
    background: black !important;
  }
</style>
<script type="text/javascript">
  const resource_target = "http://localhost/static";
  //const resource_target = "https://raw.githubusercontent.com/Serp1co/ct-custom-page/develop";

  const minigame_stylesheet_url =
    "/components/sections/section.css";
  const minigame_script_url =
    "/components/sections/section.js";
  const minigame_html_url =
    "/components/sections/section.html";
  const audioplayer_script_url =
    "/components/audioplayer/audioplayer.js";
  const audioplayer_html_url =
    "/components/audioplayer/audioplayer.html";


  const process_response = function (response) {
    if (response.ok) return response.text();
    else
      throw {
        "status_code": response.status,
        "status_description": response.statusText,
      };
  };

  async function fetch_resource(url, type, tag) {
    await fetch(resource_target + url, {
      method: 'GET', // *GET, POST, PUT, DELETE, etc.
      mode: 'cors', // no-cors, *cors, same-origin
      cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
    })
      .then((response) => process_response(response))
      .then((data) => {
        let html = document.createElement(type);
        html.innerHTML = data;
        document.querySelector(tag).appendChild(html);
      })
      .catch((exception) =>
        console.error(exception)
      );
  }

  async function setup_styles() {
    await fetch_resource(minigame_stylesheet_url, "style", "custom-styles");
  }

  async function setup_scripts() {
    await fetch_resource(minigame_script_url, "script", "custom-scripts");
    await fetch_resource(audioplayer_script_url, "script", "custom-scripts");
  }

  async function setup_dom() {
    await fetch_resource(minigame_html_url, "div", "custom-section");
    await fetch_resource(audioplayer_html_url, "div", "custom-section");
  }

  window.onload = async function () {
    let loader_interval = setInterval(
      () => (document.querySelector("load-await").innerHTML += " . "),
      100
    );
    await setup_styles()
      .then(() => setup_dom())
      .then(() => setup_scripts())
      .finally(() => {
        clearInterval(loader_interval);
        document.querySelector("load-await").remove();
        document.dispatchEvent(new Event('build-complete'));
      });
  };
</script>
<load-await> Loading. </load-await>
<custom-styles> </custom-styles>
<custom-section> </custom-section>
<custom-scripts> </custom-scripts>

<hr />
<div class="container" style="font-size:13px">
  Apache 2.0 Open source license, feel free to use, pls report any bugs.<br />
  Source code available github@serp1co/ct-custom-page<br />
</div>
