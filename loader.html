<script type="text/javascript">
    const env = 'debug';
    setInterval(()=> document.querySelector("load-await").innerHTML += " . ", 100);
    const minigame_stylesheet_url = {
        'production': 'https://raw.githubusercontent.com/Serp1co/ct-custom-page/main/target/section.min.css',
        'debug': 'https://raw.githubusercontent.com/Serp1co/ct-custom-page/main/section.css',
        'local': 'http://localhost:8080/static/section.css'
    };
    const minigame_script_url = {
        'production': 'https://raw.githubusercontent.com/Serp1co/ct-custom-page/main/target/section.min.js',
        'debug': 'https://raw.githubusercontent.com/Serp1co/ct-custom-page/main/section.js',
        'local': 'http://localhost:8080/static/section.js'
    };
    const minigame_html_url = {
        'production': 'https://raw.githubusercontent.com/Serp1co/ct-custom-page/main/target/section.min.html',
        'debug': 'https://raw.githubusercontent.com/Serp1co/ct-custom-page/main/section.html',
        'local': 'http://localhost:8080/static/section.html'
    };
    window.onload = async function () {
        await fetch(minigame_stylesheet_url[env])
            .then(response => { return response.text() })
            .then(data => {
                let style = document.createElement("style");
                style.innerHTML = data;
                document.querySelector("custom-styles").appendChild(style);
            })
            .then(() => {
                fetch(minigame_script_url[env])
                    .then(response => {return response.text();})
                    .then(data => {
                        let script = document.createElement("script");
                        script.innerHTML = data;
                        document.querySelector("custom-scripts").appendChild(script);
                    })
                    .then(() => {
                        fetch(minigame_html_url[env])
                            .then(response => { return response.text() })
                            .then(data => { document.querySelector("custom-section").innerHTML += data })
                            .catch(exception => console.log("couldn't fetch html data. " + exception))
                    })
                    .catch(exception => console.log("couldn't fetch js data. " + exception))
            })
            .catch(exception => console.log("couldn't fetch css data. " + exception))
            .finally(()=> document.querySelector("load-await").remove())
        ;
    }
</script>
<load-await>
    Loading. 
</load-await>
<custom-styles>
</custom-styles>
<custom-section>
</custom-section>
<custom-scripts>
</custom-scripts>